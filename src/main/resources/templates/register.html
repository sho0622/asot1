<!DOCTYPE html>
<html>

<head>
<title>ユーザ登録</title>
<meta charset="utf-8" name="viewport"
	content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0" />
<!-- CSSの読み込み -->
<link type="text/css" rel="stylesheet" href="./css/bootstrap.min.css">
<link type="text/css" rel="stylesheet" href="./css/froala_blocks.css">
<link type="text/css" rel="stylesheet" href="./css/gips.css">
<!-- JSの読み込み -->
<script type="text/javascript" src="./js/jquery-3.5.1.min.js"
	defer="defer"></script>
<script type="text/javascript" src="./js/bootstrap.min.js" defer="defer"></script>
</head>

<body>
	<!-- ヘッダ 共通なので後で書き換える -->
	<header class="bg-dark">
		<div class="container">
			<nav class="navbar navbar-expand-md no-gutters">
				<div class="col-3 text-left" id="logo">
					<img src="./images/logo.png" height="40" alt="image">
				</div>
				<div class="collapse navbar-collapse navbar-collapse-4 col-md-6"
					id="navbarNav01">
					<ul class="navbar-nav justify-content-center">
					</ul>
				</div>
				<div class="collapse navbar-collapse navbar-collapse-4 col-md-5"
					id="navbarNav02">
					<ul class="navbar-nav justify-content-center">
						<li class="nav-item"><a class="nav-link" href="index.html"
							id="linkLogout">ログアウト</a></li>
					</ul>
				</div>
			</nav>
		</div>

	</header>

	<!-- メッセージ表示 -->
	<div id="message_area"></div>

	<section class="fdb-block py-0 sectionHeight">
		<div class="container my-2">

			<!-- ここにHTMLをかく -->
			<div class=" row justify-content-center"></div>
			<div class="col-12 col-md-8 col-lg-6 col-xl-5 text-left">
				<div class="row">
					<div class="col">
						<h1>ユーザー登録</h1>
						<p class="lead">次の項目を入力してください。</p>
					</div>
				</div>
				<form method="post" action="/" id="formid"
					data-th-object="${registerForm}">
					<div class="row">
						<div class="col mt-4">
							<p>・ユーザーネーム</p>
							<input type="text" data-th-field="*{userName}" id="inputName"
								class="form-control" placeholder="ユーザネーム" required>
						</div>
					</div>
					<div class="row">
						<div class="col mt-4">
							<p>・パスワード</p>
							<input type="password" data-th-field="*{password1}"
								id="inputPassword1" class="form-control" placeholder="password">
						</div>
					</div>
					<div class="row">
						<div class="col mt-4">
							<p>・パスワード(確認)</p>
							<input type="password" data-th-field="*{password2}"
								id="inputPassword2" class="form-control" placeholder="password">
						</div>
					</div>
					<div class="row">
						<div class="col mt-4">
							<!-- ログインボタン押下時、インターフェース画面(ログインユーザ)へ遷移 -->
							<button class="btn btn-secondary" type="button" id="btn">登録</button>
							<!-- 戻るボタン押下時、インターフェース画面(ゲストユーザ)へ遷移 -->
							<button class="btn btn-secondary" type="button"
								onclick="location.href='http://localhost:8080/'">戻る</button>
						</div>
					</div>

				</form>
			</div>
		</div>
	</section>


	<!-- フッタ 共通なので後で書き換える -->
	<footer class="fdb-block footer-small bg-dark footer">
		<div class="container">
			<div class="row text-center">
				<div class="col" id="copywrite">
					<p>© 2019 Solid Communication Inc. All Rights Reserved</p>
				</div>
			</div>
		</div>
	</footer>

	<script>
	const btn = document.getElementById('btn');

	btn.addEventListener("click", function(e) {

	 let inputName = document.getElementById("inputName").value;
 	 let inputPassword1 = document.getElementById("inputPassword1").value;
 	 let inputPassword2 = document.getElementById("inputPassword2").value;

 	 if(inputName.match(/[^A-Za-z0-9]+/)){
 	 	alert('半角英数字で入力してください');
 	 	document.getElementById("inputName").style.backgroundColor = 'red';
 	 }
 	if(inputName=="" || inputName== null){
 	 	alert('入力していない項目があります');
 		 	document.getElementById("inputName").style.backgroundColor = 'red';
  	}
 	if(inputPassword1=="" || inputPassword1== null ){
 	 	alert('入力していない項目があります');
 		 	document.getElementById("inputPassword1").style.backgroundColor = 'red';
  	}
 	if(inputPassword2=="" || inputPassword2== null){
 	 	alert('入力していない項目があります');
 		 	document.getElementById("inputPassword2").style.backgroundColor = 'red';
  	}
 	if(inputPassword1.length >= 4 || inputPassword2.length >= 4){
 		alert('パスワードは4桁以上で入力してください');
 		document.getElementById("inputPassword1").style.backgroundColor ='red';
 		document.getElementById("inputPassword2").style.backgroundColor = 'red';
 	}
 	if(inputPassword1.length <= 10 || inputPassword2.length <= 10){
 	 		alert('パスワードは10桁以内で入力してください');
 	 		document.getElementById("inputPassword1").style.backgroundColor ='red';
 	 		document.getElementById("inputPassword2").style.backgroundColor = 'red';
 	}
	if(inputPassword1!=inputPassword2){
		alert('パスワードが一致していません');
		document.getElementById("inputPassword1").style.backgroundColor = 'red';
 		document.getElementById("inputPassword2").style.backgroundColor = 'red';

	}
 	else {

 	document.getElementById("formid").submit();
 	}

    });
 </script>

</body>


</html>
